<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Table</title>
	<style type="text/css">
		table{
			border-collapse: collapse;
		}
		table tr td{
			border: 1px solid black;
		}
		th{
			background-color: gray;
			color: white;
			border: 1px solid black;
		}
		tr:nth-child(even) {background-color: #d3d3d3;}
		.approve{
			color: green;
			font-weight: bold;
		}
		.deny{
			color: red;
			font-weight: bold;
		}
	</style>
</head>
<body>

<table id="table">
	<thead>
		<th>ReqID</th><th>UsrID</th><th>Event</th><th>Location</th><th>Date</th><th>Description</th><th>EventType/Category</th><th>Grading Scale</th><th>Passing Grade</th><th>Justification</th><th>Cost</th><th>Reimb.</th><th>Status</th><th>Approve/Deny</th>
	</thead>
	<tbody id="tbody">
		<tr><td>001</td><td>001</td><td>Revature</td><td>USF</td><td>15-JUL-2019</td><td>Pega</td><td>Training</td><td>Pass/Fail</td><td>Pass</td><td>It's kewl</td><td>36500.00</td><td>1000.00</td><td>Pending</td><td><button class="approve" value="001" onclick="approve(value)">Approve &#9989;</button><button class="deny" value="001" onclick="deny(value)">Deny &#10060;</button></td></tr>

		<tr><td>002</td><td>002</td><td>Revature</td><td>USF</td><td>15-OCT-2019</td><td>Pega</td><td>Training</td><td>Pass/Fail</td><td>Pass</td><td>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</td><td>36500.00</td><td>1000.00</td><td>Pending</td><td><button class="approve" value="002" onclick="approve(value)">Approve &#9989;</button><button class="deny" value="002" onclick="deny(value)">Deny &#10060;</button></td></tr>
	</tbody>
</table>
	<script>
		let table = document.getElementById("tbody");
		for (var i = 0, row; row = table.rows[i]; i++){
				let tableDate = row.cells[4].innerHTML; //Change column index to match ResultSet
				tableDate = new Date(tableDate);
				tableDate.setFullYear(Math.abs(tableDate.getFullYear())); //Set year to be positive year beacuse it gets parsed as a negative year
				let curDate = new Date();
				curDate.setHours(0,0,0,0); //Set to midnight
				if (tableDate-curDate <= 86400000*14) {//ms per day; 14 days before
						row.style.color="red";
					}
					else{break;} //can remove this else
			}
		function approve(ReqID){
			console.log("Approve", ReqID);
			//the requestID will be the value assigned to it in Java
			//xhr to approve method
			location.reload(true); //hard refresh page so the acted upon request no longer shows up
		}
		function deny(ReqID){
			console.log("Deny", ReqID);
			//the requestID will be the value assigned to it in Java
			//xhr to deny method
			location.reload(true); //hard refresh page so the acted upon request no longer shows up
		}
	</script>
</body>
</html>